/* t.c */
#include <stdio.h>

typedef char int8;
typedef unsigned char uint8;
typedef int int32;

int
main(int argc, char *argv[])
{
	printf("%x\n", (int32)(int8)0xff);	
	return 0;
}

% /tmp/t
ffffffff

; printf("%x\n", (`int32)(`int8)0xff);
ff

*****  I think I fixed these, but I don't remember ******

ub233% pwd
/.ccs/u02/vczandy/perf/scripts
ub233% ~/src/l1/l1 -e test.cqct;
45552859
internal error: valns on non-namespace
backtrace of vm 0x88c60b8:
                 Iu@    (builtin closure)
            looktype    (builtin function)
dw_process_location_list        (dweval.cqct:583)
      dw_process_die    (dw.cqct:3456)
         get_cu_info    (dw.cqct:3991)
     get_all_cu_info    (dw.cqct:4014)
               entry    (test.cqct:27)

Abort

ub233% /u02/vczandy/src/l1/l1 -e test.cqct
internal error: valns on non-namespace
backtrace of vm 0x9e86b18:
            P3
              нг
                        (builtin closure)
            looktype    (builtin function)
dw_process_location_list        (dweval.cqct:583)
      dw_process_die    (dw.cqct:3456)
         get_cu_info    (dw.cqct:3991)
     get_all_cu_info    (dw.cqct:4014)
               entry    (test.cqct:27)

./doperf: line 15: 21661 Aborted                 $HOME/src/l1/l1 -e test.cqct


*****  **********************************   ******

these occurred on commit: (sep 3 08)
	c8d55f92f448128e8881f1758ed76a53be860d11
on two consecutive runs, then again on a later run,
otherwise not reproduced

ucs2l% ./l1
; @include <pras.l1>
<procedure mkpras>
; mkpras("localhost:30000", "/bin/ls", "/");
connecting to localhost:30000
output flushing 27 bytes
did output flush
internal error: sweep heap (vector) 0x14570d40 bad state 1
backtrace of vm 0x14308150:
                read	(builtin function)
            dispatch	(fdas.l1:76)
               apply	(builtin function)
               read1	(pras.l1:179)
              launch	(pras.l1:241)
              mkpras	(pras.l1:321)

Abort
ucs2l% ./l1
; @include <pras.l1>
<procedure mkpras>
; mkpras("localhost:30000", "/bin/ls", "/");
connecting to localhost:30000
output flushing 27 bytes
did output flush
internal error: sweep heap (vector) 0x16a57d40 bad state 1
backtrace of vm 0x167ef150:
                read	(builtin function)
            dispatch	(fdas.l1:76)
               apply	(builtin function)
               read1	(pras.l1:179)
              launch	(pras.l1:241)
              mkpras	(pras.l1:321)

Abort


ucs2l% ./l1
; @include <pras.l1>
<procedure testpras>
; testpras();
connecting to localhost:30000
output flushing 27 bytes
did output flush
internal error: sweep heap (vector) 0x38fc9f0 bad state 1
backtrace of vm 0x368d150:
                read	(builtin function)
            dispatch	(fdas.l1:82)
               apply	(builtin function)
               read1	(pras.l1:179)
              launch	(pras.l1:241)
              mkpras	(pras.l1:323)
            testpras	(pras.l1:333)

Abort
