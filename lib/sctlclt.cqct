@include <sctl.cqct>

@define atnames(path)
{
	@local fds, fd, nsid;
	fds = popen("sctl", "-c", 2|4|8);
	fd = fds[0];
	finalize(fd, @lambda(fd) { close(fd); });
	version(fd);
	nsid = names(fd, path);
	if(nsid == nil)
		return nil;
	return mksctlns(fd, nsid);
}
