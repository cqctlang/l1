define r(len)
{
       printf("reading %d bytes!\n", len);
       return mkstr(len);
}

define w(s)
{
       printf("writing %d bytes!\n", strlen(s));
       return 3;
}

define c()
{
	printf("closing\n");
}

fd = mkfd(r, w, c);
fprintf(fd, "hi\n");
printf("%B\n", read(fd, 10));
close(fd);
close(fd);
