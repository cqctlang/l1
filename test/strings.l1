@include <strings.cqct>

s = "lower&UPPERcaseetc...66";
printf("%s %s %s\n\n",s,strtoupper(s),strtolower(s));

ws = utf8toutf16(s);
printf("%B %B\n\n",s,ws);

z = mkzas(1000);
tns = @names c32le {
    typedef struct _UNICODE_STRING {
       @0 unsigned short Length;
       @2 unsigned short MaximumLength;
       @4 unsigned short *Buffer;
       @8;
    } UNICODE_STRING;
};
tdom = mkdom(tns,z);
p = (UNICODE_STRING *){tdom}0;
p->MaximumLength = 1000-8;
p->Buffer = (unsigned short *)(p+1);
p->Length = length(ws);
putbytes((char *)(p+1),ws);

printf("%B\n",unistrtostr(p));


