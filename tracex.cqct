@include <debug.cqct>
@include <dump.cqct>

//atnames = snamesns;

mux = mksctlmux();
cmd = [ "demo/list", "10" ];
ctl = ctllaunch(mux, cmd);
exe = ctl.exe();
ctl.trap('brk, &exe`insert,
	 @lambda(ctl){
		 foreach(@lambda(ctx){
				 printf("%s\n", fmtframe(ctl, ctx));
				 printf("%s", fmtldom(ctl, ctx));
			 }, ctl.unwind());
		 printf("\n");
	 });
mux.run();
